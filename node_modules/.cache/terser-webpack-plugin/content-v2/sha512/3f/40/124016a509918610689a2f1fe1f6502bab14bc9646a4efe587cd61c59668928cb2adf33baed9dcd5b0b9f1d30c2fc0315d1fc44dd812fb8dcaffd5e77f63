{"map":{"version":3,"sources":["static/js/main.889ebd21.chunk.js"],"names":["this","push","101","module","exports","125","127","139","__webpack_exports__","__webpack_require__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","v1","routes_CreateRoom","props","a","createElement","onClick","id","Object","history","concat","toConsumableArray","slicedToArray","taggedTemplateLiteral","lib","lib_default","simple_peer","simple_peer_default","styled_components_browser_esm","micmute","micmute_default","micunmute","micunmute_default","webcam","webcam_default","webcamoff","webcamoff_default","Container","div","Controls","ControlSmall","ImgComponent","img","ImgComponentSmall","StyledVideo","video","Room_Video","ref","peer","on","stream","current","srcObject","playsInline","autoPlay","routes_Room","_useState","_useState2","peers","setPeers","_useState3","_useState4","audioFlag","setAudioFlag","_useState5","_useState6","videoFlag","setVideoFlag","_useState7","_useState8","userUpdate","setUserUpdate","socketRef","userVideo","peersRef","roomID","match","params","videoConstraints","minAspectRatio","minFrameRate","height","window","innerHeight","width","innerWidth","connect","navigator","mediaDevices","getUserMedia","audio","then","emit","users","console","log","forEach","userID","userToSignal","callerID","initiator","trickle","signal","createPeer","peerID","payload","incomingSignal","addPeer","peerObj","find","p","destroy","filter","muted","src","getTracks","track","kind","enabled","map","index","audioFlagTemp","videoFlagTemp","entry","key","src_App","path","exact","component","render","StrictMode","document","getElementById","35","36","37","38","71"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,n){},125:function(e,n){},127:function(e,n){},139:function(e,n,t){\"use strict\";t.r(n);var r,a,c,i,o,u,l=t(0),s=t.n(l),d=t(65),f=t.n(d),p=t(70),g=t(1),m=t(141),b=function(e){return s.a.createElement(\"button\",{onClick:function(){var n=Object(m.a)();e.history.push(\"/room/\".concat(n))}},\"Create room\")},h=t(16),v=t(22),j=t(10),O=t(66),E=t.n(O),x=t(34),I=t.n(x),D=t(11),w=t(35),k=t.n(w),y=t(36),F=t.n(y),R=t(37),S=t.n(R),C=t(38),T=t.n(C),z=D.a.div(r||(r=Object(j.a)([\"\\n  height: 100vh;\\n  width: 20%;\\n\"]))),J=D.a.div(a||(a=Object(j.a)([\"\\n  margin: 3px;\\n  padding: 5px;\\n  height: 27px;\\n  width: 98%;\\n  background-color: rgba(255, 226, 104, 0.1);\\n  margin-top: -8.5vh;\\n  filter: brightness(1);\\n  z-index: 1;\\n  border-radius: 6px;\\n\"]))),M=D.a.div(c||(c=Object(j.a)([\"\\n  margin: 3px;\\n  padding: 5px;\\n  height: 16px;\\n  width: 98%;\\n  margin-top: -6vh;\\n  filter: brightness(1);\\n  z-index: 1;\\n  border-radius: 6px;\\n  display: flex;\\n  justify-content: center;\\n\"]))),P=D.a.img(i||(i=Object(j.a)([\"\\n  cursor: pointer;\\n  height: 25px;\\n\"]))),A=D.a.img(o||(o=Object(j.a)([\"\\n  height: 15px;\\n  text-align: left;\\n  opacity: 0.5;\\n\"]))),B=D.a.video(u||(u=Object(j.a)([\"\\n  width: 100%;\\n  position: static;\\n  border-radius: 10px;\\n  overflow: hidden;\\n  margin: 1px;\\n  border: 5px solid gray;\\n\"]))),H=function(e){var n=Object(l.useRef)();return Object(l.useEffect)((function(){e.peer.on(\"stream\",(function(e){n.current.srcObject=e}))}),[]),s.a.createElement(B,{playsInline:!0,autoPlay:!0,ref:n})},U=function(e){var n=Object(l.useState)([]),t=Object(v.a)(n,2),r=t[0],a=t[1],c=Object(l.useState)(!0),i=Object(v.a)(c,2),o=i[0],u=i[1],d=Object(l.useState)(!0),f=Object(v.a)(d,2),p=f[0],g=f[1],m=Object(l.useState)([]),b=Object(v.a)(m,2),j=b[0],O=b[1],x=Object(l.useRef)(),D=Object(l.useRef)(),w=Object(l.useRef)([]),y=e.match.params.roomID,R={minAspectRatio:1.333,minFrameRate:60,height:window.innerHeight/1.8,width:window.innerWidth/2};return Object(l.useEffect)((function(){x.current=E.a.connect(\"/\"),navigator.mediaDevices.getUserMedia({video:R,audio:!0}).then((function(e){D.current.srcObject=e,x.current.emit(\"join room\",y),x.current.on(\"all users\",(function(n){console.log(n);var t=[];n.forEach((function(n){var r=function(e,n,t){var r=new I.a({initiator:!0,trickle:!1,stream:t});return r.on(\"signal\",(function(t){x.current.emit(\"sending signal\",{userToSignal:e,callerID:n,signal:t})})),r}(n,x.current.id,e);w.current.push({peerID:n,peer:r}),t.push({peerID:n,peer:r})})),a(t)})),x.current.on(\"user joined\",(function(n){console.log(\"==\",n);var t=function(e,n,t){var r=new I.a({initiator:!1,trickle:!1,stream:t});return r.on(\"signal\",(function(e){x.current.emit(\"returning signal\",{signal:e,callerID:n})})),r.signal(e),r}(n.signal,n.callerID,e);w.current.push({peerID:n.callerID,peer:t});var r={peer:t,peerID:n.callerID};a((function(e){return[].concat(Object(h.a)(e),[r])}))})),x.current.on(\"user left\",(function(e){var n=w.current.find((function(n){return n.peerID===e}));n&&n.peer.destroy();var t=w.current.filter((function(n){return n.peerID!==e}));w.current=t,a(t)})),x.current.on(\"receiving returned signal\",(function(e){w.current.find((function(n){return n.peerID===e.id})).peer.signal(e.signal)})),x.current.on(\"change\",(function(e){O(e)}))}))}),[]),s.a.createElement(z,null,s.a.createElement(B,{muted:!0,ref:D,autoPlay:!0,playsInline:!0}),s.a.createElement(J,null,s.a.createElement(P,{src:p?S.a:T.a,onClick:function(){D.current.srcObject&&D.current.srcObject.getTracks().forEach((function(e){\"video\"===e.kind&&(e.enabled?(x.current.emit(\"change\",[].concat(Object(h.a)(j),[{id:x.current.id,videoFlag:!1,audioFlag:o}])),e.enabled=!1,g(!1)):(x.current.emit(\"change\",[].concat(Object(h.a)(j),[{id:x.current.id,videoFlag:!0,audioFlag:o}])),e.enabled=!0,g(!0)))}))}}),\"\\xa0\\xa0\\xa0\",s.a.createElement(P,{src:o?F.a:k.a,onClick:function(){D.current.srcObject&&D.current.srcObject.getTracks().forEach((function(e){\"audio\"===e.kind&&(e.enabled?(x.current.emit(\"change\",[].concat(Object(h.a)(j),[{id:x.current.id,videoFlag:p,audioFlag:!1}])),e.enabled=!1,u(!1)):(x.current.emit(\"change\",[].concat(Object(h.a)(j),[{id:x.current.id,videoFlag:p,audioFlag:!0}])),e.enabled=!0,u(!0)))}))}})),r.map((function(e,n){var t=!0,r=!0;return j&&j.forEach((function(n){e&&e.peerID&&e.peerID===n.id&&(t=n.audioFlag,r=n.videoFlag)})),s.a.createElement(\"div\",{key:e.peerID},s.a.createElement(H,{peer:e.peer}),s.a.createElement(M,null,s.a.createElement(A,{src:r?S.a:T.a}),\"\\xa0\\xa0\\xa0\",s.a.createElement(A,{src:t?F.a:k.a})))})))};var W=function(){return s.a.createElement(p.a,null,s.a.createElement(g.c,null,s.a.createElement(g.a,{path:\"/\",exact:!0,component:b}),s.a.createElement(g.a,{path:\"/room/:roomID\",component:U})))};f.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(W,null)),document.getElementById(\"root\"))},35:function(e,n,t){e.exports=t.p+\"static/media/micmute.71c818c4.svg\"},36:function(e,n,t){e.exports=t.p+\"static/media/micunmute.d15ab7f5.svg\"},37:function(e,n,t){e.exports=t.p+\"static/media/webcam.9f0afb70.svg\"},38:function(e,n,t){e.exports=t.p+\"static/media/webcamoff.f87f6879.svg\"},71:function(e,n,t){e.exports=t(139)}},[[71,1,2]]]);","extractedComments":[]}