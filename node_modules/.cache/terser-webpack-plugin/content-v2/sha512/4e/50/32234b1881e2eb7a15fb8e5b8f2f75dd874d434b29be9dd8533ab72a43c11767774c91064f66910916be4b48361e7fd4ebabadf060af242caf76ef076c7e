{"map":{"version":3,"sources":["static/js/main.763929af.chunk.js"],"names":["this","push","121","module","exports","123","131","__webpack_require__","p","132","133","134","139","__webpack_exports__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","v1","routes_CreateRoom","props","a","createElement","onClick","id","Object","history","concat","toConsumableArray","slicedToArray","taggedTemplateLiteral","lib","lib_default","simple_peer","simple_peer_default","styled_components_browser_esm","Container","div","Controls","ControlSmall","StyledVideo","img","video","Room_Video","ref","peer","on","stream","current","srcObject","playsInline","autoPlay","routes_Room","_useState","_useState2","peers","setPeers","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","userUpdate","setUserUpdate","socketRef","userVideo","peersRef","roomID","match","params","videoConstraints","minAspectRatio","minFrameRate","height","window","innerHeight","width","innerWidth","connect","navigator","mediaDevices","getUserMedia","audio","then","emit","users","console","log","forEach","userID","userToSignal","callerID","initiator","trickle","signal","createPeer","peerID","payload","incomingSignal","addPeer","peerObj","find","destroy","filter","muted","map","index","entry","audioFlag","videoFlag","key","src_App","path","exact","component","render","StrictMode","document","getElementById","67","97"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,n){},123:function(e,n){},131:function(e,n,t){e.exports=t.p+\"static/media/micmute.71c818c4.svg\"},132:function(e,n,t){e.exports=t.p+\"static/media/micunmute.d15ab7f5.svg\"},133:function(e,n,t){e.exports=t.p+\"static/media/webcam.9f0afb70.svg\"},134:function(e,n,t){e.exports=t.p+\"static/media/webcamoff.f87f6879.svg\"},139:function(e,n,t){\"use strict\";t.r(n);var r,a,i,c,o,u,l=t(0),s=t.n(l),p=t(60),f=t.n(p),d=t(65),m=t(1),g=t(141),h=function(e){return s.a.createElement(\"button\",{onClick:function(){var n=Object(g.a)();e.history.push(\"/room/\".concat(n))}},\"Create room\")},b=t(66),v=t(21),j=t(10),O=t(61),x=t.n(O),I=t(33),E=t.n(I),D=t(11),w=(t(131),t(132),t(133),t(134),D.a.div(r||(r=Object(j.a)([\"\\n  height: 100vh;\\n  width: 20%;\\n\"])))),y=D.a.div(a||(a=Object(j.a)([\"\\n  margin: 3px;\\n  padding: 5px;\\n  height: 27px;\\n  width: 98%;\\n  background-color: rgba(255, 226, 104, 0.1);\\n  margin-top: -8.5vh;\\n  filter: brightness(1);\\n  z-index: 1;\\n  border-radius: 6px;\\n\"]))),k=D.a.div(i||(i=Object(j.a)([\"\\n  margin: 3px;\\n  padding: 5px;\\n  height: 16px;\\n  width: 98%;\\n  margin-top: -6vh;\\n  filter: brightness(1);\\n  z-index: 1;\\n  border-radius: 6px;\\n  display: flex;\\n  justify-content: center;\\n\"]))),R=(D.a.img(c||(c=Object(j.a)([\"\\n  cursor: pointer;\\n  height: 25px;\\n\"]))),D.a.img(o||(o=Object(j.a)([\"\\n  height: 15px;\\n  text-align: left;\\n  opacity: 0.5;\\n\"]))),D.a.video(u||(u=Object(j.a)([\"\\n  width: 400;\\n  position: static;\\n  height:800,\\n  border-radius: 10px;\\n  overflow: hidden;\\n  margin: 1px;\\n  border: 5px solid gray;\\n\"])))),S=function(e){var n=Object(l.useRef)();return Object(l.useEffect)((function(){e.peer.on(\"stream\",(function(e){n.current.srcObject=e}))}),[]),s.a.createElement(R,{playsInline:!0,autoPlay:!0,ref:n})},F=function(e){var n=Object(l.useState)([]),t=Object(v.a)(n,2),r=t[0],a=t[1],i=Object(l.useState)(!0),c=Object(v.a)(i,2),o=(c[0],c[1],Object(l.useState)(!0)),u=Object(v.a)(o,2),p=(u[0],u[1],Object(l.useState)([])),f=Object(v.a)(p,2),d=f[0],m=f[1],g=Object(l.useRef)(),h=Object(l.useRef)(),j=Object(l.useRef)([]),O=e.match.params.roomID,I={minAspectRatio:1.333,minFrameRate:60,height:window.innerHeight/1.8,width:window.innerWidth/2};return Object(l.useEffect)((function(){g.current=x.a.connect(\"/\"),navigator.mediaDevices.getUserMedia({video:I,audio:!0}).then((function(e){h.current.srcObject=e,g.current.emit(\"join room\",O),g.current.on(\"all users\",(function(n){console.log(n);var t=[];n.forEach((function(n){var r=function(e,n,t){var r=new E.a({initiator:!0,trickle:!1,stream:t});return r.on(\"signal\",(function(t){g.current.emit(\"sending signal\",{userToSignal:e,callerID:n,signal:t})})),r}(n,g.current.id,e);j.current.push({peerID:n,peer:r}),t.push({peerID:n,peer:r})})),a(t)})),g.current.on(\"user joined\",(function(n){console.log(\"==\",n);var t=function(e,n,t){var r=new E.a({initiator:!1,trickle:!1,stream:t});return r.on(\"signal\",(function(e){g.current.emit(\"returning signal\",{signal:e,callerID:n})})),r.signal(e),r}(n.signal,n.callerID,e);j.current.push({peerID:n.callerID,peer:t});var r={peer:t,peerID:n.callerID};a((function(e){return[].concat(Object(b.a)(e),[r])}))})),g.current.on(\"user left\",(function(e){var n=j.current.find((function(n){return n.peerID===e}));n&&n.peer.destroy();var t=j.current.filter((function(n){return n.peerID!==e}));j.current=t,a(t)})),g.current.on(\"receiving returned signal\",(function(e){j.current.find((function(n){return n.peerID===e.id})).peer.signal(e.signal)})),g.current.on(\"change\",(function(e){m(e)}))}))}),[]),s.a.createElement(w,null,s.a.createElement(R,{muted:!0,ref:h,autoPlay:!0,playsInline:!0}),s.a.createElement(y,null,\"\\xa0\\xa0\\xa0\"),r.map((function(e,n){return d&&d.forEach((function(n){e&&e.peerID&&e.peerID===n.id&&(n.audioFlag,n.videoFlag)})),s.a.createElement(\"div\",{key:e.peerID},s.a.createElement(S,{peer:e.peer}),s.a.createElement(k,null,\"\\xa0\\xa0\\xa0\"))})))};var z=function(){return s.a.createElement(d.a,null,s.a.createElement(m.c,null,s.a.createElement(m.a,{path:\"/\",exact:!0,component:h}),s.a.createElement(m.a,{path:\"/room/:roomID\",component:F})))};f.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(z,null)),document.getElementById(\"root\"))},67:function(e,n,t){e.exports=t(139)},97:function(e,n){}},[[67,1,2]]]);","extractedComments":[]}